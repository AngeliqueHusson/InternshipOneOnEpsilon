You know that feeling you get when twothings that seem completely unrelatedturn out to have a key connection . Inmath especially , there 's a certain tinglysensation that I get whenever one ofthose connections starts to fall intoplace . That is what I have in store foryou today.It takes a little time to set up , I have tointroduce this fair division puzzle indiscrete math , it 's called the stolennecklace problem , and we also have to setup a certain topological fact aboutspheres that we 'll use to solve it calledthe Borsuk-Ulam theorem . But trust me , seeing how these two seeminglydisconnected pieces of math cometogether is well worth the setup . Andmore fun , I coordinated this video withMathologer , who just put out a videosolving a very similar fair divisionproblem , but with a completely differenttactic.So after this video , if you 're eager tolearn more , head on over to his channel.If somehow you do n't already know aboutMathologer , his stuff is some of the bestmath on youtube , definitely poke aroundthe rest of the channel and subscribe ifyou like this stuff as much as I do.So here 's the puzzle that we 're going tosolve , the stolen necklace problem . Youand your friend steal the necklace fullof a whole bunch of very valuable jewels.Maybe it 's got some sapphires , emeraldsdiamonds , and rubies . And let 's saythey 're all arranged on the necklace insome totally random order.Moreover let 's say that there happenedto be an even number of each type ofjewel . Right here i have 8 sapphires , 10emeralds , 4 diamonds , and 6 rubies . Youand your friend want to split the bootyevenly , with each of you getting half ofeach jewel type : 4 sapphires , 5emeralds , 2 diamonds , and 3 rubies each.Of course , you could just cut all ofthe jewels off the necklace and divvythem up evenly , but that 's boring.There 's not really a puzzle there.Instead the challenge is to make as fewcuts to the necklace as possible so thatyou can divvy up the resulting segmentsbetween you and your co-conspirator andstill have each of you end up with halfof each jewel type.For example , I just did it using 4 cuts.If I give these top three strands to you , and these bottom two strands to yourco-conspirator , notice how each of youends up with 4 sapphires , each of youhas 5 emeralds , 2 diamonds and 3rubies . The claim , the thing that I wantto prove in this video , is that if youhave n different types of jewels , it 's always possible to find a fairdivision using only n cuts or fewer . Sowith 4 jewel types like this example , you should always be able to find a wayto make 4 cuts and divvy up the 5resulting pieces so that each thief hasthe same number of each jewel type . Ifthere were 5 jewel types , you should beable to do it in five cuts , no matterwhat the arrangement is . It 's kind of hardto think about , right ? I mean , you need tokeep track of all of these differenttypes of jewels , ensuring that they'redivided fairly , but at the same time youhave to try to minimize how many cutsyou 're making . Depending on yourdisposition to puzzles in math , maybethis feels a little contrived , but thecore characteristics that make thisproblem hard , like trying to minimizesharding and trying to allocate somecollection of things in a balanced way , these are the kinds of optimizationissues that actually come about a fairamount in practical applications . For thecomputer system folk out there , I 'm sureyou can imagine how this could relate tosome kind of efficient memory allocationproblem . Also , if you 're curious toactually see it in action , I 've left alink in the video description to acertain electrical engineering paperthat uses this very problem . Independentfrom its usefulness , though , it certainlymakes for a good puzzle.Can you always find a fair divisionusing only as many cuts as there aretypes of jewels ? So that 's the puzzle , remember it , and nowwe 're going to take a seeminglyunrelated sidestep to the total oppositeside of the mathematical universe : Topology . Imagine taking a sphere inthree-dimensional space and squishing itsomehow onto the 2d plane , stretching andmorphing it however you want as you doso . The only constraint is that you dothis continuously , which you can think ofas meaning just never cut the sphere ortear it in any way during the mapping . Now , as you do this , continuously squishingthat sphere onto the plane , manydifferent pairs of points on the sphereare going to land on top of each otheronce they hit the plane , and that 's notreally a big deal.The special fact that we 're going to use , known as the `` Borsuk-Ulam theorem '' , is that you will always be able to finda pair of points that started off onexact opposite sides of the sphere whichland on each other during the mapping.Points on the exact opposite side of thesphere are called `` Antipodes '' or `` antipodalpoints '' . For example , let 's say you'rethinking of the sphere as Earth , and themapping you choose is to just projectevery point directly onto the plane ofthe Equator . Well in that case the Northand the South Poles , which are antipodal , each land on the same point . And in thisexample that 's the only antipodal pairthat lands on the same point . Anyother antipodal pair will end up somehowoffset from each other But lets youtweak this function a bit , maybeshearing it during the projection . Inthat case the north and south poleprobably do n't land on each otheranymore , but when the topology Godsclose a door , they open a window , because the Borsuk-Ulam theoremguarantees that no matter what , there must be some other antipodalpair that now land on top of each other.The classic example to illustrate thisidea , which any math educator introducingthe Borsuk-Ulam theorem is required by lawto present , is that there must exist somepair of points on the opposite side ofthe earth where the temperature and thebarometric pressure are both preciselythe same . Think about it for a moment , associating each point on the earth witha pair of numbers , temperature andpressure , is the same as mapping thesurface of the earth into a 2dcoordinate plane , where the firstcoordinate represents temperature andthe second one represents pressure . Alsoeach of those values varies continuouslyas you wander around the earth , so thisassociation is a continuous mapping fromthe surface of a sphere onto the plane , some non tearing way to squash thatsurface into two dimensions . So what theBorsuk-Ulam theorem guarantees is thatno matter what the weather patterns onearth , or any other planet for thatmatter , some pair of antipodal pointssomewhere must land on top of each other , which means they mapped to the sametemperature pressure coordinates . Now , Iimagine if you 're watching this videoyou 're probably a mathematician at heart , and you want to see why this is true notjust that it 's true.VSauce actually taled about the Borsuk-UlamTheorem in a great video that herecently did about fixed points , and hegave a really beautiful line ofreasoning to explain it intuitively , which I 'm just gon na shamelessly co-optfor my own use here . Given some functionfrom the sphere onto the plane , imagine walking around the equator . Thecorresponding outputs on the plane aregoing to form some kind of closed loop.And let 's say that your sister is on theexact opposite side of the globe and asyou walk around she continues keepingherself perfectly antipodally oppositefrom you . Since the two of you eventuallyswap places , at some point along the waythe x-coordinates of your correspondingoutputs have to line up . The first timethis happens , I want you to mark whereyou are on the sphere , as well as whereyour antipodal sister is . Then if youtilt the equator slightly and walk alonga slightly different great circle , thecorresponding loop in the output spaceis going to alter a bit . But by the sameline of reasoning there has to be somepoint on your walk where you and yourantipodal sister land on outputs withthe same x-coordinate , lining upvertically . Mark those two points on thesphere as well . If you repeat thiscontinuously turning that equator 180degrees around the full circle , yourmarked points are going to make up somenew closed loop around the sphere . This iswhat that might look like in the outputspace , keeping track of all of the pointswhere you and your antipodal sister firstline up vertically . Every point on thisnew loop is one word you and yourantipodal sister by definition end up withthe same x coordinate . So if the two ofyou are walking around this new loop youalways line up vertically . But what'smore , since the two of you are eventuallygoing to swap places , there must be somepoint along the way where you also havethe same y-coordinate , aligninghorizontally . That gives the point whereyou and your antipodal sister must land onthe same output . Pretty cool , right ? Tohelp set the stage for how the heck thisapplies to the necklace problem , I wantto write what this means a little moresymbolically . Points in 3d space arerepresented with three coordinates , right ? I mean , in some sense that 's what 3dspace is , to a mathematician at least , allpossible triplets of numbers.Now , the simplest sphere to describe withcoordinates is a standard unit spherecentered at the origin , the set of allpoints a distance one from that origin , meaning all triplets of numbers with thespecial property that the sum of theirsquares equals 1 . So the geometric ideaof a sphere is related to the algebraicidea of some set of positive numbersthat add up to one . Remember that . If youhave one of these triplets , the point onthe opposite side of the sphere , thecorresponding antipodal point , iswhatever you get by flipping the sign ofeach coordinate , right ? So let 's justwrite out what the Borsuk-Ulamtheorem is saying symbolically . This isgoing to help for where we 're going . Forany function that takes in points on thesphere , triplets of numbers who squaressum to 1 , and spits out some point in 2dspace , some pair of coordinates liketemperature and pressure , as long as thatfunction is continuous there will besome input so that flipping all thesigns does n't change the output . And withthat on the table , let 's turn back to the stolen necklaceproblem . Part of the reason that thesetwo things feel so unrelated is that thenecklace problem is discrete , but theBorsuk-Ulam theorem applies to acontinuous situation . So our first stepis to translate the stolen necklaceproblem into a continuous version . Forright now , let 's limit ourselves to thecase where there are only 2 jewel types , sapphires and emeralds , and we 're hopingto make a fair division of the necklaceafter only two cuts . As an example tohave on the screen , let 's say that we have eight sapphiresand 10 emeralds on the necklace . Just asa reminder this means that the goal isto cut the necklace in two differentspots and divvy up those three segmentsso that each thief has half of thesapphires and half of the emeralds.Notice how the top and bottom here eachhave four sapphires and each have fiveemeralds.Think of this necklace is a line withlength one , with the jewels sittingevenly spaced on it . Now divided up thatline into 18 evenly sized segments , onefor each jewel . And rather thanthinking of each tool as a discreteindivisible entity on the segment , removethe jewel itself and instead just paintthat segment the color of the jewel . Soin this case painting the whole necklaceappropriately , 8/18 of the line aregoing to be painted sapphire while , 10/18of the line are going to be paintedemerald . The continuous version of thispuzzle is to now ask whether we can findtwo cuts anywhere on this line , notnecessarily on these 1/18 interval marks , that let us divide up the pieces so thateach thief has an equal length of eachcolor . In this case that means each thiefshould end up with a total length of4/18 of sapphire colored segments and 5/18of emerald colored segments . An importantbut somewhat subtle point is that if youcan solve this continuous variant of thepuzzle you can also solve the original discreteversion . To see why , let 's say that you do find a fairdivision , but whose cuts don'tnecessarily fall cleanly between jewels.Maybe it cuts part of the way through anemerald segment . Well because this is afair division , the length of emerald inboth the top and the bottom group has toadd up to exactly five emerald segments.A whole number multiple of the segmentlength . So even if the division does cutpartially into an emerald segment on theleft , it would have to also cut partiallyinto an emerald segment on the right hereso that the total length can add up to awhole number multiple of the segmentlength . What that means is that we canadjust each cut without affecting thedivision so that they ultimately do lineup on these 1/18 marks . Now in thiscontinuous case where you can cut theline wherever the heck you want , thinkabout all of the choices that go intocutting the necklace and allocating itspieces . First you choose two differentplaces to cut the interval . But anotherway to think of that is to choose threepositive numbers that add up to one.For example , maybe you choose 1/61/3 and 1/2 . That wouldcorrespond with these two cuts hereanytime that you find three positivenumbers that add to one , it gives you away to cut the necklace , and vice versa.Then after you cut it , you have to make abinary choice for each one of thosethree pieces for whether it goes to thethief 1 or if it goes to thief 2 . Now compare thatto if I asked you to choose somearbitrary point on the 3d sphere . Somepoint with coordinates ( x , y , z ) so that xsquared plus y squared plus z squaredequals 1.well you might start off by choosingthree positive numbers that add up toone . Maybe you want x squared to be1/6 , y squared to be 1/3 , andz squared to be 1/2 . Then you haveto make a binary choice for each one , choosing whether to take the positivesquare root or the negative square root.So in a way that 's completely parallelto choosing a necklace division , choosinga point on the sphere involves firstfinding three positive numbers that addup to one and then making a binarychoice for what to do with each one ofthem . That right there is a keyobservation for the whole video . It givesthe correspondence between points on thesphere and necklace divisions . For anypoint ( x , y , z ) that sits on the sphere , because x squared plus y squared plus zsquared equals one , you can cut thenecklace so that the first piece has alength of x squared the second has alength of y squared and the third has alength of z squared . Then to choose howto allocate these pieces , if x ispositive give it to thief 1 , otherwise giveit to thief 2 . If y is positive give thatsecond piece to thief 1 otherwise giveit to thief 2.And then similarly to allocate the thirdpiece if z is positive give it to thief1 otherwise give it to thief 2 . And youcan go the other way around , this is aone-to-one correspondence . Any way todivide up the necklace and divvy up thepieces would give you a unique point onthe sphere.It 's as if the sphere is the perfect wayto encapsulate the idea of all possiblenecklace divisions using a geometricobject.And with that association , we aretantalizingly close . Take a moment andthink about the meaning of antipodalpoints under this association . If thepoint ( x , y , z ) on the sphere corresponds tosome necklace allocation , what does thepoint ( -x , -y , -z ) correspond to ? Well the squares of all of thesecoordinates are the same , so it wouldcorrespond to making the same cuts onthe necklace.The difference is that each pieceswitches which thief it belongs to . Sojumping to an antipodal point on theopposite side of the sphere correspondsto exchanging all the pieces between thetwo thieves.Now remember what it is that we'reactually looking for.We want the total length of each jeweltype belonging to thief 1 to equal thatfor thief 2.In other words , in a fair division , performing this antipodal swap doesn'tchange the amount of each jewelbelonging to each thief . Your brainshould be burning with the thought ofBorsuk-Ulam at this point . Specificallythe way you might move forward is toconstruct a certain function , a functionthat takes in a given necklaceallocation and spits out two numbers , thetotal length of sapphire belonging tothief 1 , and the total length of emeraldbelonging to thief 1 . What we want toshow is that there must exist a way todivide the necklace with only two cutsand divvy up the pieces so that thosetwo numbers are the same as what theywould have been for thief 2 . Or set a little differently , where swapping all of the pieces won'tchange those two numbers for thief 1.Because of this back and forth betweennecklace allocations and points on thesphere , and because pairs of numberscorrespond to points on the ( x , y ) plane , this is in effect a mapping from thesphere onto the plane . So what the Borsuk-Ulamtheorem guarantees is that someantipodal pair of points on the sphereland on each other in the plane . And whatthat means is there is some necklacedivision and allocation so that swappingthe pieces between the two thieves won'tchange the amount of each jewel thateach one has . That 's a fair division.That , my friends , is what beautiful mathfeels like . And if you 're anything likeme , you 're just basking in the glow ofwhat a clever proof that is , and it mightbe easy to forget that we actually wantto solve the more general stolennecklace problem , one that has more thanjust 2 jewel types . For that we can usea more general version of the Borsuk-Ulamtheorem , one that applies tohigher-dimensional spheres . As an exampleone dimension up , Borsuk-Ulam also appliesto mapping a hypersphere in 4d space into3d space . What i mean by a hypersphere , the way to think about it , is allpossible lists of four coordinates wherethe sum of the squares equals 1.Those are all of the points in 4d spacea distance 1 from the origin . TheBorsuk-Ulam theorem says that if you tryto map that set , all of those specialquadruplets , into three-dimensional space , continuously associating each one withsome triplet of numbers , there must besome antipodal collision . An input ( x1 , x2 , x3 , x4 ) where flipping all of the signswould n't change the output . I 'm going toleave it to you to pause and ponder andthink about how that would apply to thethree jewel case , and about what thegeneral statement of the Borsuk-Ulamtheorem might be and how it can apply tothe general necklace problem.Needless to say , actually trying tovisualize a 4d sphere mapping into 3dspace is rather difficult.Nevertheless , for the final animation I'mgoing to try to show you what that mightlook like . But before that i actuallyhave multiple announcements for you guystoday.Well I guess the first one is not reallyan announcement , I just want to say thankyou to the people making these videospossible on Patreon , as always . But number2 , I just partnered with dftba to opena 3blue1brown store . So if you gocheck it out you can get a pause andponder t-shirt , as well as threedifferent fractal curve posters . And ifthings go well maybe we 're going to addsome more shirts , more posters andpotentially some little pleasure picreatures . Number 3 , do n't forget thatmathologer just put out a video on a verydifferent approach to a very similarfair division problem , so after the4d sphere thing definitely go givehim a look . If you do n't already knowabout his channel , check out the rest ofit . And finally , this particular video issponsored by the great courses plus . Iimagine that many of you watching thischannel , especially those of you whofound it through the linear algebraseries , are into binge learning on theinternet , and the great courses plus hashundreds of lecture series where you cando just that . One that actually think youguys would like a lot is `` TheInexplicable Universe : Unsolved Mysteries '' by Neil deGrasse Tyson . I do n't think Ineed to tell you what a great speakerNeil deGrasse Tyson is , and the seriesitself does not disappoint . By going tothe URL on the screen , or more easily byjust following the link in thedescription , you can get a one month freetrial to see what I 'm talking about.Alright , so here 's that final animation.It 's a little confusing , so for analogyon the upper left here I 'm rotatingsphere in three dimensions andprojecting it into 2d . But i 'm onlyshowing the lines of latitude on thatsphere and not shading it or anythinglike that . So similarly , in the center I'mrotating a four dimensional hyperspherein 4d space but projecting it into 3dspace . But all i 'm showing is the spheresof latitude , so to speak.Keep in mind , you do n't actually need tobe able to visualize a 4d spheremapping into three dimensions to be ableto understand the Borsuk-Ulamtheorem , much less how it applies to thestolen necklace problem . This is just forfun . But it is pretty to try , do n't youthink ? Who (else) cares about topology?  Stolen necklaces and Borsuk-Ulam Who (else) cares about topology?  Stolen necklaces and Borsuk-Ulam Who (else) cares about topology?  Stolen necklaces and Borsuk-Ulam